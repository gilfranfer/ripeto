<section>
<article class="card cf">

	<div class="textintro">
		<h1>Welcome {{currentUser.firstname}}</h1>
		<p ng-if="userTasks.length">Here are your tasks</p>
		<p ng-if="!userTasks.length">You don't have tasks</p>
	</div>
	
	
	<div class="search cf">
	
		<form class="addActivity cf" name="addTaskForm"
			novalidate ng-submit="addTask()">
			<div class="iwrap" >
				<input type="text" name="taskName"
					placeholder="Search or add a Task"
					ng-model="taskName" ng-required="true"/>
			</div>
			<button type="submit" class="btn" ng-disabled="addTaskForm.$invalid">
			+
			</button>
			<br/>
		</form>
		<br/>
		<div class="formgroup" >
			<span class="label">Order by:</span>
			<select ng-model="tasksOrder">
				<option value="date">Creation</option>
				<option value="name">Name</option>
			</select>
		</div>
		<div class="formgroup" >
			<input id="dirascending" type="radio" name="direction" ng-model="direction" />
			<label for="dirascending">asc</label>&nbsp;
			<input id="dirdescending"  type="radio"  name="direction" ng-model="direction" value="reverse" checked/>
			<label for="dirdescending">desc</label>
		</div>
		<div ng-show="false" class="buttons cf">
	
	      <button class="btn btn-pick"
	        ng-hide="recordId" ng-click="pickRandom()">Pick Random</button>
	
	      <button class="btn btn-pick"
	        ng-show="recordId" ng-click="recordId=''">Reset</button>
	
	    </div>
    </div>
    
	<br/><br/>
	<div class="card cf activities" ng-show="totalOpenTasks>0">
	<ul class="tasksList cf">
		<li ng-repeat="task in userTasks | orderBy: tasksOrder:direction | filter: { $id: recordId, name: taskName}"
			ng-if="task.status=='open'">
    	<div class="task">
    		<div class="buttons">
				<button class="btn btn-checkin tooltip"
					ng-click="closeTask(task.$id)">
					<span>Complete Task?</span>
				</button>
	        </div>
	        <div class="info">
	        	<h2>{{task.name}}</h2>
	        	<div class="date">
	            	{{task.date | date: "MMM d,yy h:mm a"}}
	        	</div><!-- date -->
	        </div>
    	</div>
		</li>
	</ul>
	</div><br/>
	
	<div class="card cf activities" ng-show="totalClosedTasks>0">
	<ul class="tasksList cf">
		<li ng-repeat="task in userTasks | orderBy: tasksOrder:direction | filter: { name: taskName}" 
			ng-if="task.status=='closed'">
    	<div class="task">
    		<div class="buttons">
	        	<button class="btn btn-delete tooltip"
					ng-click="deleteTask(task.$id)">
					<span>Delete Task?</span>
				</button>
	        	<button class="btn btn-restore tooltip"
					ng-click="openTask(task.$id)">
					<span>Recover Task?</span>
				</button>
	        </div>
	        <div class="info">
	        	<h2>{{task.name}}</h2>
	        	<div class="date">
	            	{{task.date | date: "MMM d,yy h:mm a"}}
	        	</div><!-- date -->
	        </div>
    	</div>
		</li>
	</ul>
	</div>
	<br/><br/>
</article>

</section>